---
import { data } from '@/data/data'
import LayoutPages from '@/layouts/LayoutPages.astro'
import CardSpotlight from '@/ui/CardSpotLight';

const { books } = data;


type Book = {
	id: number;
	title: string;
	href: string;
	img: string;
	issue: string;
	release: number;
	description: string;
	links: {
		id: number;
		href: string;
		store: string;
	}[];	
};

const checkSortBooks = (a: Book, b: Book) => {
	if (a.release > b.release) {
		return -1;
	}
	if (a.release < b.release) {
		return 1;
	}
	return 0;
};

const sortsBook = books.sort(checkSortBooks);

---


<LayoutPages title="OGIglesias - Libros">
	<ul class="my-xs flex flex-col items-center gap-8 h-full w-full">
			{books.map((book:Book) => (
				<section class="mt-xs flex flex-col gap-2 w-full">
					<h4 class="text-xxl" id={book.title}>{book.title}</h4>
					<li class="flex flex-col gap-4">
						<div class="book-container">
							<div class="book">
								<img class="w-full object-cover shadow-md shadow rounded-md shadow-base-300" src={book.img} alt={book.title} />
							</div>
						</div>
						<section class="flex flex-col [&>p]:text-m font-thin">
							<section class="[&>p]:text-m">
								<p><span class="font-bold">Género:  </span> {book.issue}</p>
								<p><span class="font-bold">Año públicación:  </span> {book.release}</p>
							</section>
							<p class="mt-xs">{book.description}</p>
							<section class="mt-s grid items-center text-center gap-3 text-m">
							{
								book.links.map((link) => (
									link.href && link.store &&(
										<CardSpotlight client:load action border hrefLink={link.href}>
											<a class="font-bold w-full" target="_blank" rel="noopener noreferrer">
												COMPRAR <span class="font-thin"> en {link.store}</span>
											</a>
										</CardSpotlight>
									)
								))
							}
							</section>
						</section>
					</li>
				</section>
			))}
	</ul>
</LayoutPages>


<style>

	.books__li--links a:hover{
		background-color: var(--color-primary);
		color: var(--color-background);
		transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;
	}
	.books__li--links a span{
		font-size: var(--font-size-small);
		font-style: italic;
		font-weight: 300;
	}

	@media (1280px <= width <= 2000px) {
		.books__ul{
			width: 100%;

		}
		
			.books__li{
				display: flex;
				flex-direction: row;
				gap: 1rem;
				
			}
			.books__li--complete{
				margin: 0 0 0 var(--margin-small);
				display: flex;
				flex-direction: column;
				justify-content: space-between;
				gap: 3rem;
			}

			.books__li--container{
				display: flex;
				flex-direction: row;
				gap: 5rem;
			}
			.books__li img{
			min-width: 25rem;
			object-fit: cover;
		}
			.books__li p{
			font-size: var(--font-size-small);
			font-family: var(--font-base);
			font-weight: 100;
			letter-spacing: 0.5px;
		}
			.books__li--container p{
			font-family: var(--font-base);
			font-size: var(--font-size-small);
		}

			.books__li--links{
			margin: var(--margin-small) 0 0 0;
			font-size: var(--font-size-small);
	
			display: flex;
			flex-wrap: wrap;
			flex-direction: row;
			gap: 1rem;
		}
		.books__li--links a{
			font-size: var(--font-size-small);
			width:100%;
		}
	}


</style>



../../components/ui/ButtonArrow.jsx../../ui/Container../../ui/ButtonArrow.astro